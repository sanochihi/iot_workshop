# ステップ６：NiFiの実行

## このステップで行うこと

[ステップ５](lab05_NiFi2.md)でNiFiが完成したので、全体をつなげて実行する準備が整いました。

フローの全体を確認して、実行してみましょう。

## 手順

### 状態の確認

画面上で、以下のポイントを確認します。

![confirm.png](screenshots_lab06%2Fconfirm.png)

それぞれのマークの意味は以下のとおりです。

- 赤い四角
  - 停止状態にある正常なプロセス（実行可能）の数
- ワーニングマーク（三角のマーク）
  - 設定漏れなどにより、実行できないプロセスの数

ワーニングマークの横の数字がゼロになっていない場合は、講師を呼んで原因を特定してください。

### NiFiのトップ画面に移動

画面左下のパンくずリストから「NiFi Flow」を選択し、NiFiのトップ画面に移動します。

![click_NiFi_Flow.png](screenshots_lab06%2Fclick_NiFi_Flow.png)

このような画面になっていればOKです。

![NiFi_top.png](screenshots_lab06%2FNiFi_top.png)

トップ画面から実行することで、配下の全プロセスを同時に実行することができます。

### 実行

いよいよ実行してみましょう。

方眼紙状のフィールドの何もないところで右クリックし、「Start」をクリックします。
![right_click.png](screenshots_lab06%2Fright_click.png)

以下のように、赤い四角が緑の再生マークに変わればOKです。

![running.png](screenshots_lab06%2Frunning.png)

画面上部の表示が更新されない場合は、画面上の何もないところを右クリックし、出てきたメニューの「Refresh」をクリックしてみてください。

#### エラーが出た場合

以下のように、プロセッサーやプロセスグループの右側に赤いメモマークが表示された場合はエラーです。

![error.png](screenshots_lab06%2Ferror.png)

エラーが出た場合は講師を呼び、エラーの原因を特定・修正してください。

### 停止

実行後、数秒待ったらプロセスを停止します。

フィールド上の何もないところをクリックし、出てきたメニューの「Stop」をクリックすると停止します。

![stop.png](screenshots_lab07%2Fstop.png)

以上で、NiFiの実行は完了です。
次は、[ステップ７：データのクエリ](lab07_query_DB.md)に進みます。


[>>トップページに戻る<<](00_top.md)